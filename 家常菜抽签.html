<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>家常快手菜抽签助手</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 15px 50px;
            color: #5a3921;
            overflow-x: hidden;
        }
        
        .container {
            width: 100%;
            max-width: 500px;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            padding: 25px 20px;
            margin-top: 10px;
        }
        
        h1 {
            text-align: center;
            color: #e67e22;
            margin-bottom: 15px;
            font-size: 1.8rem;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .description {
            text-align: center;
            margin-bottom: 25px;
            color: #7e5530;
            font-size: 0.95rem;
            line-height: 1.5;
            padding: 0 10px;
        }
        
        .stats {
            text-align: center;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: #666;
        }
        
        .lottery-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .bamboo-container {
            position: relative;
            width: 130px;
            height: 200px;
            margin-bottom: 25px;
            touch-action: manipulation;
        }
        
        .bamboo {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, #8bc34a, #689f38, #8bc34a);
            border-radius: 12px;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.2s;
            user-select: none;
        }
        
        .bamboo:active {
            transform: scale(0.98);
        }
        
        .bamboo::before {
            content: "";
            position: absolute;
            width: 80%;
            height: 90%;
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 8px;
        }
        
        .bambo o-stick {
            position: absolute;
            width: 22px;
            height: 230px;
            background: linear-gradient(to bottom, #8d6e63, #5d4037, #8d6e63);
            border-radius: 10px;
            bottom: -25px;
            transform: rotate(0deg);
            transition: transform 1s ease-out;
            z-index: -1;
            opacity: 0;
        }
        
        .stick-out .bamboo-stick {
            opacity: 1;
            transform: rotate(-15deg) translateY(-180px);
        }
        
        .stick-text {
            position: absolute;
            bottom: 0;
            width: 100%;
            text-align: center;
            color: white;
            font-weight: bold;
            padding: 12px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 0 0 12px 12px;
            font-size: 1rem;
        }
        
        .result {
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: #e67e22;
            min-height: 70px;
            margin: 15px 0;
            padding: 18px;
            background-color: rgba(255, 248, 225, 0.9);
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.5s;
            opacity: 0;
            transform: translateY(20px);
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
        }
        
        .result.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .dishes-section {
            margin-bottom: 25px;
        }
        
        .section-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            padding-bottom: 8px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .dishes-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
            max-height: 400px;
            overflow-y: auto;
            padding: 5px;
        }
        
        .dish-item {
            background: white;
            padding: 15px 10px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.08);
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            font-size: 0.95rem;
            touch-action: manipulation;
            position: relative;
        }
        
        .dish-item:active {
            transform: scale(0.97);
        }
        
        .dish-item.selected {
            border-color: #e67e22;
            background-color: #fff8e1;
            box-shadow: 0 4px 8px rgba(230, 126, 34, 0.2);
        }
        
        .dish-category {
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 0.7rem;
            padding: 2px 5px;
            border-radius: 8px;
            color: white;
        }
        
        .category-hunan { background-color: #e74c3c; }
        .category-sichuan { background-color: #3498db; }
        .category-guangdong { background-color: #2ecc71; }
        .category-jiangsu { background-color: #9b59b6; }
        .category-zhejiang { background-color: #f1c40f; }
        .category-fujian { background-color: #1abc9c; }
        .category-anhui { background-color: #34495e; }
        .category-shandong { background-color: #e67e22; }
        
        .custom-dish {
            display: flex;
            margin-top: 20px;
            width: 100%;
        }
        
        #newDish {
            flex: 1;
            padding: 14px;
            border: 2px solid #e67e22;
            border-radius: 10px 0 0 10px;
            font-size: 1rem;
            outline: none;
            background: white;
        }
        
        #addDish {
            padding: 14px 20px;
            background-color: #e67e22;
            color: white;
            border: none;
            border-radius: 0 10px 10px 0;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: background-color 0.3s;
            touch-action: manipulation;
        }
        
        #addDish:active {
            background-color: #d35400;
        }
        
        .buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            width: 100%;
        }
        
        button {
            padding: 16px 25px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            max-width: 160px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            touch-action: manipulation;
        }
        
        button:active {
            transform: translateY(2px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
        }
        
        #drawBtn {
            background: linear-gradient(to right, #e67e22, #e74c3c);
            color: white;
        }
        
        #resetBtn {
            background: linear-gradient(to right, #3498db, #2980b9);
            color: white;
        }
        
        .instructions {
            margin-top: 30px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 12px;
            font-size: 0.85rem;
            color: #666;
            line-height: 1.5;
        }
        
        .instructions h3 {
            margin-bottom: 8px;
            color: #e67e22;
        }
        
        .spicy-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-left: 5px;
        }
        
        .spicy-1 { background-color: #ffcc80; }
        .spicy-2 { background-color: #ffa726; }
        .spicy-3 { background-color: #ef6c00; }
        .spicy-4 { background-color: #d84315; }
        .spicy-5 { background-color: #bf360c; }
        
        .filter-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 8px 15px;
            border: 2px solid #e67e22;
            background: white;
            color: #e67e22;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .filter-btn.active {
            background: #e67e22;
            color: white;
        }
        
        @media (max-width: 380px) {
            .dishes-list {
                grid-template-columns: 1fr;
            }
            
            .bamboo-container {
                width: 110px;
                height: 180px;
            }
            
            h1 {
                font-size: 1.6rem;
            }
            
            .result {
                font-size: 1.3rem;
                padding: 15px;
            }
            
            .filter-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>家常快手菜抽签助手</h1>
        <p class="description">300道家常快手菜，湘菜占100道，轻松解决每日烹饪难题！</p>
        <div class="stats">共收录 <strong>300</strong> 道家常快手菜 | 其中 <strong>100</strong> 道湘菜</div>
        
        <div class="lottery-area">
            <div class="bamboo-container">
                <div class="bamboo" id="bamboo">
                    <div class="bamboo-stick"></div>
                    <div class="stick-text">点击抽签</div>
                </div>
            </div>
            
            <div class="result" id="result">抽签结果将显示在这里</div>
        </div>
        
        <div class="dishes-section">
            <div class="section-title">
                菜品选项 
                <small>(<span class="spicy-indicator spicy-1"></span>微辣 
                <span class="spicy-indicator spicy-3"></span>中辣 
                <span class="spicy-indicator spicy-5"></span>重辣)</small>
            </div>
            
            <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">全部菜品</button>
                <button class="filter-btn" data-filter="hunan">湘菜(100)</button>
                <button class="filter-btn" data-filter="sichuan">川菜(50)</button>
                <button class="filter-btn" data-filter="guangdong">粤菜(40)</button>
                <button class="filter-btn" data-filter="jiangsu">苏菜(30)</button>
                <button class="filter-btn" data-filter="zhejiang">浙菜(30)</button>
                <button class="filter-btn" data-filter="fujian">闽菜(25)</button>
                <button class="filter-btn" data-filter="anhui">徽菜(15)</button>
                <button class="filter-btn" data-filter="shandong">鲁菜(10)</button>
            </div>
            
            <div class="dishes-list" id="dishesList">
                <!-- 菜品选项将通过JavaScript动态添加 -->
            </div>
            
            <div class="custom-dish">
                <input type="text" id="newDish" placeholder="输入自定义菜品...">
                <button id="addDish">添加</button>
            </div>
        </div>
        
        <div class="buttons">
            <button id="drawBtn">开始抽签</button>
            <button id="resetBtn">重置</button>
        </div>
        
        <div class="instructions">
            <h3>使用说明</h3>
            <p>1. 使用上方筛选按钮查看不同菜系菜品</p>
            <p>2. 点击选择想要参与抽签的菜品</p>
            <p>3. 可以添加自定义菜品到列表中</p>
            <p>4. 点击签筒或"开始抽签"按钮随机选择</p>
            <p>5. 点击"重置"可以重新开始</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 300道家常快手菜数据 - 湘菜100道，其他菜系200道
            const dishesData = {
                hunan: [ // 湘菜 - 100道
                    { name: "辣椒炒肉", spicy: 3 },
                    { name: "剁椒鱼头", spicy: 4 },
                    { name: "小炒黄牛肉", spicy: 4 },
                    { name: "湘味手撕包菜", spicy: 3 },
                    { name: "酸辣鸡杂", spicy: 5 },
                    { name: "腊味合蒸", spicy: 2 },
                    { name: "毛氏红烧肉", spicy: 1 },
                    { name: "湘西腊肉", spicy: 3 },
                    { name: "口味虾", spicy: 5 },
                    { name: "土匪猪肝", spicy: 4 },
                    { name: "酸豆角肉末", spicy: 3 },
                    { name: "干锅花菜", spicy: 3 },
                    { name: "湘味蒸排骨", spicy: 2 },
                    { name: "酸辣藕丁", spicy: 3 },
                    { name: "干锅土豆片", spicy: 3 },
                    { name: "湘味小炒鸡", spicy: 4 },
                    { name: "剁椒蒸豆腐", spicy: 3 },
                    { name: "湘味炒腊肠", spicy: 3 },
                    { name: "酸辣白菜", spicy: 3 },
                    { name: "干锅千页豆腐", spicy: 3 },
                    { name: "湘味蒸鸡", spicy: 2 },
                    { name: "酸辣肚丝", spicy: 4 },
                    { name: "干锅肥肠", spicy: 5 },
                    { name: "湘味蒸鱼", spicy: 2 },
                    { name: "酸辣海带丝", spicy: 3 },
                    { name: "干锅茶树菇", spicy: 3 },
                    { name: "湘味蒸豆腐", spicy: 2 },
                    { name: "酸辣鱼片", spicy: 4 },
                    { name: "干锅黄骨鱼", spicy: 4 },
                    { name: "湘味炒鸡蛋", spicy: 2 },
                    { name: "酸辣土豆丝", spicy: 3 },
                    { name: "干锅牛蛙", spicy: 5 },
                    { name: "湘味炒豆角", spicy: 2 },
                    { name: "酸辣黄瓜", spicy: 2 },
                    { name: "干锅包菜", spicy: 3 },
                    { name: "湘味炒茄子", spicy: 2 },
                    { name: "酸辣粉丝", spicy: 3 },
                    { name: "干锅藕片", spicy: 3 },
                    { name: "湘味炒苦瓜", spicy: 1 },
                    { name: "酸辣木耳", spicy: 3 },
                    { name: "干锅萝卜", spicy: 2 },
                    { name: "湘味炒芹菜", spicy: 1 },
                    { name: "酸辣豆芽", spicy: 2 },
                    { name: "干锅豆腐", spicy: 2 },
                    { name: "湘味炒青椒", spicy: 3 },
                    { name: "酸辣金针菇", spicy: 3 },
                    { name: "干锅香菇", spicy: 2 },
                    { name: "湘味炒西葫芦", spicy: 1 },
                    { name: "酸辣冬瓜", spicy: 2 },
                    { name: "干锅杏鲍菇", spicy: 2 },
                    { name: "湘味炒南瓜", spicy: 0 },
                    { name: "酸辣豆腐皮", spicy: 3 },
                    { name: "干锅平菇", spicy: 2 },
                    { name: "湘味炒丝瓜", spicy: 0 },
                    { name: "酸辣魔芋", spicy: 3 },
                    { name: "干锅金针菇", spicy: 2 },
                    { name: "湘味炒茭白", spicy: 1 },
                    { name: "酸辣蕨菜", spicy: 3 },
                    { name: "干锅莴笋", spicy: 1 },
                    { name: "湘味炒芦笋", spicy: 1 },
                    { name: "酸辣竹笋", spicy: 2 },
                    { name: "干锅菜花", spicy: 2 },
                    { name: "湘味炒西兰花", spicy: 1 },
                    { name: "酸辣空心菜", spicy: 2 },
                    { name: "干锅油麦菜", spicy: 1 },
                    { name: "湘味炒生菜", spicy: 0 },
                    { name: "酸辣菠菜", spicy: 2 },
                    { name: "干锅小白菜", spicy: 1 },
                    { name: "湘味炒油菜", spicy: 0 },
                    { name: "酸辣芥蓝", spicy: 2 },
                    { name: "干锅韭菜", spicy: 1 },
                    { name: "湘味炒蒜苗", spicy: 1 },
                    { name: "酸辣洋葱", spicy: 2 },
                    { name: "干锅胡萝卜", spicy: 1 },
                    { name: "湘味炒玉米", spicy: 0 },
                    { name: "酸辣青豆", spicy: 2 },
                    { name: "干锅豌豆", spicy: 1 },
                    { name: "湘味炒蚕豆", spicy: 1 },
                    { name: "酸辣毛豆", spicy: 2 },
                    { name: "干锅黄豆", spicy: 1 },
                    { name: "湘味炒花生", spicy: 1 },
                    { name: "酸辣豆腐干", spicy: 3 },
                    { name: "干锅香干", spicy: 2 },
                    { name: "湘味炒豆皮", spicy: 1 },
                    { name: "酸辣腐竹", spicy: 2 },
                    { name: "干锅面筋", spicy: 2 },
                    { name: "湘味炒粉条", spicy: 2 },
                    { name: "酸辣米线", spicy: 3 },
                    { name: "干锅宽粉", spicy: 2 },
                    { name: "湘味炒河粉", spicy: 2 },
                    { name: "酸辣面条", spicy: 3 },
                    { name: "干锅粉丝", spicy: 2 },
                    { name: "湘味炒米饭", spicy: 1 },
                    { name: "酸辣粥", spicy: 2 },
                    { name: "干锅馒头", spicy: 1 },
                    { name: "湘味炒饼", spicy: 1 },
                    { name: "酸辣饺子", spicy: 3 },
                    { name: "干锅馄饨", spicy: 2 },
                    { name: "湘味炒包子", spicy: 1 }
                ],
                sichuan: [ // 川菜 - 50道
                    { name: "麻婆豆腐", spicy: 5 },
                    { name: "宫保鸡丁", spicy: 3 },
                    { name: "鱼香肉丝", spicy: 3 },
                    { name: "回锅肉", spicy: 4 },
                    { name: "水煮肉片", spicy: 5 },
                    { name: "酸菜鱼", spicy: 4 },
                    { name: "辣子鸡丁", spicy: 5 },
                    { name: "夫妻肺片", spicy: 4 },
                    { name: "担担面", spicy: 4 },
                    { name: "口水鸡", spicy: 4 },
                    { name: "蚂蚁上树", spicy: 3 },
                    { name: "蒜泥白肉", spicy: 3 },
                    { name: "干煸四季豆", spicy: 4 },
                    { name: "泡椒凤爪", spicy: 4 },
                    { name: "酸辣粉", spicy: 4 },
                    { name: "重庆小面", spicy: 4 },
                    { name: "麻辣香锅", spicy: 5 },
                    { name: "钵钵鸡", spicy: 4 },
                    { name: "龙抄手", spicy: 2 },
                    { name: "钟水饺", spicy: 3 },
                    { name: "甜水面", spicy: 2 },
                    { name: "宜宾燃面", spicy: 4 },
                    { name: "豆花饭", spicy: 2 },
                    { name: "凉拌折耳根", spicy: 3 },
                    { name: "红油抄手", spicy: 4 },
                    { name: "泡菜鱼", spicy: 4 },
                    { name: "干锅鸡", spicy: 4 },
                    { name: "石锅鱼", spicy: 4 },
                    { name: "酸汤肥牛", spicy: 4 },
                    { name: "青椒皮蛋", spicy: 3 },
                    { name: "鱼香茄子", spicy: 3 },
                    { name: "干煸豆角", spicy: 4 },
                    { name: "火爆腰花", spicy: 4 },
                    { name: "干锅排骨", spicy: 4 },
                    { name: "干锅虾", spicy: 4 },
                    { name: "干锅牛蛙", spicy: 5 },
                    { name: "干锅花菜", spicy: 3 },
                    { name: "干锅土豆片", spicy: 3 },
                    { name: "干锅藕片", spicy: 3 },
                    { name: "干锅千页豆腐", spicy: 3 },
                    { name: "干锅茶树菇", spicy: 3 },
                    { name: "干锅杏鲍菇", spicy: 2 },
                    { name: "干锅金针菇", spicy: 2 },
                    { name: "干锅平菇", spicy: 2 },
                    { name: "干锅香菇", spicy: 2 },
                    { name: "干锅萝卜", spicy: 2 },
                    { name: "干锅豆腐", spicy: 2 },
                    { name: "干锅香干", spicy: 2 },
                    { name: "干锅面筋", spicy: 2 },
                    { name: "干锅宽粉", spicy: 2 }
                ],
                guangdong: [ // 粤菜 - 40道
                    { name: "白切鸡", spicy: 0 },
                    { name: "蜜汁叉烧", spicy: 0 },
                    { name: "干炒牛河", spicy: 1 },
                    { name: "豉汁蒸排骨", spicy: 0 },
                    { name: "蚝油生菜", spicy: 0 },
                    { name: "梅菜扣肉", spicy: 0 },
                    { name: "盐焗鸡", spicy: 0 },
                    { name: "煲仔饭", spicy: 0 },
                    { name: "白灼虾", spicy: 0 },
                    { name: "豉油鸡", spicy: 0 },
                    { name: "咕咾肉", spicy: 0 },
                    { name: "蒜蓉粉丝蒸扇贝", spicy: 0 },
                    { name: "椒盐濑尿虾", spicy: 2 },
                    { name: "姜葱炒蟹", spicy: 1 },
                    { name: "豆豉鲮鱼油麦菜", spicy: 0 },
                    { name: "陈皮骨", spicy: 0 },
                    { name: "荷叶蒸鸡", spicy: 0 },
                    { name: "虾饺", spicy: 0 },
                    { name: "烧卖", spicy: 0 },
                    { name: "肠粉", spicy: 0 },
                    { name: "凤爪", spicy: 0 },
                    { name: "糯米鸡", spicy: 0 },
                    { name: "叉烧包", spicy: 0 },
                    { name: "流沙包", spicy: 0 },
                    { name: "蛋挞", spicy: 0 },
                    { name: "萝卜糕", spicy: 0 },
                    { name: "马蹄糕", spicy: 0 },
                    { name: "双皮奶", spicy: 0 },
                    { name: "姜撞奶", spicy: 0 },
                    { name: "及第粥", spicy: 0 },
                    { name: "艇仔粥", spicy: 0 },
                    { name: "炒牛奶", spicy: 0 },
                    { name: "炸牛奶", spicy: 0 },
                    { name: "生炒菜心", spicy: 0 },
                    { name: "蚝油菜心", spicy: 0 },
                    { name: "白灼芥兰", spicy: 0 },
                    { name: "蒜蓉菜心", spicy: 0 },
                    { name: "清炒时蔬", spicy: 0 },
                    { name: "清蒸鲈鱼", spicy: 0 },
                    { name: "清蒸石斑鱼", spicy: 0 }
                ],
                jiangsu: [ // 苏菜 - 30道
                    { name: "松鼠桂鱼", spicy: 0 },
                    { name: "清炖蟹粉狮子头", spicy: 0 },
                    { name: "大煮干丝", spicy: 0 },
                    { name: "水晶肴肉", spicy: 0 },
                    { name: "叫花鸡", spicy: 0 },
                    { name: "盐水鸭", spicy: 0 },
                    { name: "鸭血粉丝汤", spicy: 0 },
                    { name: "无锡排骨", spicy: 0 },
                    { name: "清炒虾仁", spicy: 0 },
                    { name: "响油鳝糊", spicy: 1 },
                    { name: "蟹黄汤包", spicy: 0 },
                    { name: "扬州炒饭", spicy: 0 },
                    { name: "苏式汤面", spicy: 0 },
                    { name: "桂花糖藕", spicy: 0 },
                    { name: "糖醋排骨", spicy: 0 },
                    { name: "油爆虾", spicy: 0 },
                    { name: "芙蓉鸡片", spicy: 0 },
                    { name: "鸡汁干丝", spicy: 0 },
                    { name: "蟹粉豆腐", spicy: 0 },
                    { name: "腌笃鲜", spicy: 0 },
                    { name: "金陵烤鸭", spicy: 0 },
                    { name: "酱方", spicy: 0 },
                    { name: "荷叶粉蒸肉", spicy: 0 },
                    { name: "樱桃肉", spicy: 0 },
                    { name: "糟扣肉", spicy: 0 },
                    { name: "清汤火方", spicy: 0 },
                    { name: "虾籽茭白", spicy: 0 },
                    { name: "鸡油菜心", spicy: 0 },
                    { name: "清炒芦蒿", spicy: 0 },
                    { name: "炒三鲜", spicy: 0 }
                ],
                zhejiang: [ // 浙菜 - 30道
                    { name: "西湖醋鱼", spicy: 0 },
                    { name: "东坡肉", spicy: 0 },
                    { name: "龙井虾仁", spicy: 0 },
                    { name: "叫花童鸡", spicy: 0 },
                    { name: "宋嫂鱼羹", spicy: 0 },
                    { name: "干炸响铃", spicy: 0 },
                    { name: "油焖春笋", spicy: 0 },
                    { name: "蜜汁火方", spicy: 0 },
                    { name: "荷叶粉蒸肉", spicy: 0 },
                    { name: "雪菜大汤黄鱼", spicy: 0 },
                    { name: "锅烧河鳗", spicy: 0 },
                    { name: "三丝敲鱼", spicy: 0 },
                    { name: "蒜子鱼皮", spicy: 0 },
                    { name: "爆墨鱼卷", spicy: 0 },
                    { name: "锦绣鱼丝", spicy: 0 },
                    { name: "油淋鸡", spicy: 0 },
                    { name: "八宝童鸡", spicy: 0 },
                    { name: "杭州卤鸭", spicy: 0 },
                    { name: "杭州酱鸭", spicy: 0 },
                    { name: "栗子炒子鸡", spicy: 0 },
                    { name: "宁式鳝丝", spicy: 1 },
                    { name: "三虾豆腐", spicy: 0 },
                    { name: "绍式虾球", spicy: 0 },
                    { name: "干菜焖肉", spicy: 0 },
                    { name: "霉干菜扣肉", spicy: 0 },
                    { name: "荷叶新风鸡", spicy: 0 },
                    { name: "杭州卷鸡", spicy: 0 },
                    { name: "生爆鳝片", spicy: 1 },
                    { name: "葱包桧儿", spicy: 0 },
                    { name: "吴山酥油饼", spicy: 0 }
                ],
                fujian: [ // 闽菜 - 25道
                    { name: "佛跳墙", spicy: 0 },
                    { name: "荔枝肉", spicy: 0 },
                    { name: "醉排骨", spicy: 0 },
                    { name: "闽生果", spicy: 0 },
                    { name: "扳指干贝", spicy: 0 },
                    { name: "鸡汤汆海蚌", spicy: 0 },
                    { name: "淡糟香螺片", spicy: 0 },
                    { name: "爆炒双脆", spicy: 1 },
                    { name: "鱼丸汤", spicy: 0 },
                    { name: "扁肉燕", spicy: 0 },
                    { name: "海蛎煎", spicy: 0 },
                    { name: "沙茶面", spicy: 3 },
                    { name: "土笋冻", spicy: 0 },
                    { name: "面线糊", spicy: 0 },
                    { name: "姜母鸭", spicy: 1 },
                    { name: "同安封肉", spicy: 0 },
                    { name: "桂花蟹", spicy: 0 },
                    { name: "白炒鲜竹蛏", spicy: 0 },
                    { name: "葱烧刺参", spicy: 0 },
                    { name: "灵芝恋玉蝉", spicy: 0 },
                    { name: "荷包鱼翅", spicy: 0 },
                    { name: "龙身凤尾虾", spicy: 0 },
                    { name: "翡翠珍珠鲍", spicy: 0 },
                    { name: "枸杞炖鳗鱼", spicy: 0 },
                    { name: "菜脯蛋", spicy: 0 }
                ],
                anhui: [ // 徽菜 - 15道
                    { name: "臭鳜鱼", spicy: 2 },
                    { name: "毛豆腐", spicy: 2 },
                    { name: "徽州一品锅", spicy: 1 },
                    { name: "火腿炖甲鱼", spicy: 0 },
                    { name: "腌鲜鳜鱼", spicy: 2 },
                    { name: "黄山炖鸽", spicy: 0 },
                    { name: "问政山笋", spicy: 0 },
                    { name: "虎皮毛豆腐", spicy: 2 },
                    { name: "香菇盒", spicy: 0 },
                    { name: "中和汤", spicy: 0 },
                    { name: "凤炖牡丹", spicy: 0 },
                    { name: "双脆锅巴", spicy: 0 },
                    { name: "杨梅丸子", spicy: 0 },
                    { name: "徽式卤舌", spicy: 1 },
                    { name: "葡萄鱼", spicy: 0 }
                ],
                shandong: [ // 鲁菜 - 10道
                    { name: "葱烧海参", spicy: 0 },
                    { name: "九转大肠", spicy: 1 },
                    { name: "糖醋鲤鱼", spicy: 0 },
                    { name: "油爆双脆", spicy: 0 },
                    { name: "德州扒鸡", spicy: 0 },
                    { name: "一品豆腐", spicy: 0 },
                    { name: "四喜丸子", spicy: 0 },
                    { name: "锅塌豆腐", spicy: 0 },
                    { name: "木须肉", spicy: 0 },
                    { name: "爆三样", spicy: 1 }
                ]
            };
            
            const dishesList = document.getElementById('dishesList');
            const resultElement = document.getElementById('result');
            const drawBtn = document.getElementById('drawBtn');
            const resetBtn = document.getElementById('resetBtn');
            const bamboo = document.getElementById('bamboo');
            const addDishBtn = document.getElementById('addDish');
            const newDishInput = document.getElementById('newDish');
            const filterButtons = document.querySelectorAll('.filter-btn');
            
            let dishes = [];
            let selectedDishes = new Set();
            let currentFilter = 'all';
            
            // 将所有菜品合并到一个数组中
            function combineAllDishes() {
                dishes = [];
                for (const category in dishesData) {
                    dishesData[category].forEach(dish => {
                        dishes.push({
                            ...dish,
                            category: category
                        });
                    });
                }
            }
            
            // 初始化菜品列表
            function initializeDishes(filter = 'all') {
                dishesList.innerHTML = '';
                currentFilter = filter;
                
                const filteredDishes = filter === 'all' ? 
                    dishes : 
                    dishes.filter(dish => dish.category === filter);
                
                filteredDishes.forEach(dish => {
                    const dishElement = document.createElement('div');
                    dishElement.className = 'dish-item';
                    dishElement.dataset.category = dish.category;
                    
                    // 创建辣度指示器
                    let spicyIndicator = '';
                    if (dish.spicy > 0) {
                        spicyIndicator = `<span class="spicy-indicator spicy-${dish.spicy}"></span>`;
                    }
                    
                    // 创建分类标签
                    const categoryLabels = {
                        'hunan': '湘',
                        'sichuan': '川',
                        'guangdong': '粤',
                        'jiangsu': '苏',
                        'zhejiang': '浙',
                        'fujian': '闽',
                        'anhui': '徽',
                        'shandong': '鲁'
                    };
                    
                    const categoryLabel = categoryLabels[dish.category] || dish.category;
                    const categoryClass = `category-${dish.category}`;
                    
                    dishElement.innerHTML = `
                        ${dish.name}${spicyIndicator}
                        <span class="dish-category ${categoryClass}">${categoryLabel}</span>
                    `;
                    
                    dishElement.addEventListener('click', () => {
                        dishElement.classList.toggle('selected');
                        if (selectedDishes.has(dish.name)) {
                            selectedDishes.delete(dish.name);
                        } else {
                            selectedDishes.add(dish.name);
                        }
                    });
                    
                    // 如果这个菜品已经被选中，添加选中状态
                    if (selectedDishes.has(dish.name)) {
                        dishElement.classList.add('selected');
                    }
                    
                    dishesList.appendChild(dishElement);
                });
            }
            
            // 筛选按钮事件
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // 移除所有按钮的active类
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    // 给当前点击的按钮添加active类
                    this.classList.add('active');
                    // 根据data-filter属性筛选菜品
                    initializeDishes(this.dataset.filter);
                });
            });
            
            // 添加自定义菜品
            function addCustomDish() {
                const newDishName = newDishInput.value.trim();
                if (newDishName && !dishes.some(dish => dish.name === newDishName)) {
                    dishes.push({ 
                        name: newDishName, 
                        spicy: 0, 
                        category: 'sichuan' // 默认添加到川菜
                    });
                    initializeDishes(currentFilter);
                    newDishInput.value = '';
                    
                    // 自动选中新添加的菜品
                    selectedDishes.add(newDishName);
                    
                    showTemporaryMessage('菜品添加成功！');
                } else if (dishes.some(dish => dish.name === newDishName)) {
                    showTemporaryMessage('该菜品已存在！');
                }
            }
            
            // 显示临时消息
            function showTemporaryMessage(message) {
                const tempMsg = document.createElement('div');
                tempMsg.textContent = message;
                tempMsg.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: rgba(0, 0, 0, 0.8);
                    color: white;
                    padding: 15px 25px;
                    border-radius: 10px;
                    z-index: 1000;
                    font-size: 1rem;
                `;
                document.body.appendChild(tempMsg);
                
                setTimeout(() => {
                    document.body.removeChild(tempMsg);
                }, 1500);
            }
            
            // 抽签函数
            function drawLottery() {
                const availableDishes = selectedDishes.size > 0 ? 
                    Array.from(selectedDishes) : dishes.map(dish => dish.name);
                
                if (availableDishes.length === 0) {
                    resultElement.textContent = "请先添加菜品选项！";
                    resultElement.classList.add('show');
                    return;
                }
                
                // 添加动画效果
                bamboo.classList.add('stick-out');
                
                // 随机选择菜品
                setTimeout(() => {
                    const randomIndex = Math.floor(Math.random() * availableDishes.length);
                    const selectedDishName = availableDishes[randomIndex];
                    
                    // 获取菜品完整信息
                    const dishInfo = dishes.find(d => d.name === selectedDishName);
                    let spicyText = '';
                    if (dishInfo && dishInfo.spicy > 0) {
                        const spicyLevels = ["", "微辣", "中辣", "重辣", "特辣", "爆辣"];
                        spicyText = ` (${spicyLevels[dishInfo.spicy]})`;
                    }
                    
                    // 添加分类标识
                    const categoryLabels = {
                        'hunan': '湘菜',
                        'sichuan': '川菜',
                        'guangdong': '粤菜',
                        'jiangsu': '苏菜',
                        'zhejiang': '浙菜',
                        'fujian': '闽菜',
                        'anhui': '徽菜',
                        'shandong': '鲁菜'
                    };
                    
                    const categoryText = categoryLabels[dishInfo.category] ? ` [${categoryLabels[dishInfo.category]}]` : '';
                    
                    resultElement.textContent = `今日推荐：${selectedDishName}${categoryText}${spicyText}`;
                    resultElement.classList.add('show');
                    
                    // 添加庆祝效果
                    addCelebrationEffect();
                }, 1000);
            }
            
            // 添加庆祝效果
            function addCelebrationEffect() {
                const colors = ['#e67e22', '#e74c3c', '#3498db', '#2ecc71', '#9b59b6'];
                for (let i = 0; i < 15; i++) {
                    setTimeout(() => {
                        const confetti = document.createElement('div');
                        confetti.style.cssText = `
                            position: fixed;
                            width: 10px;
                            height: 10px;
                            background: ${colors[Math.floor(Math.random() * colors.length)]};
                            border-radius: 50%;
                            top: ${Math.random() * 100}%;
                            left: ${Math.random() * 100}%;
                            opacity: 0.8;
                            z-index: 999;
                            pointer-events: none;
                        `;
                        document.body.appendChild(confetti);
                        
                        setTimeout(() => {
                            document.body.removeChild(confetti);
                        }, 1500);
                    }, i * 100);
                }
            }
            
            // 重置函数
            function reset() {
                bamboo.classList.remove('stick-out');
                resultElement.classList.remove('show');
                selectedDishes.clear();
                
                // 移除所有选中状态
                document.querySelectorAll('.dish-item').forEach(item => {
                    item.classList.remove('selected');
                });
                
                setTimeout(() => {
                    resultElement.textContent = "抽签结果将显示在这里";
                }, 500);
            }
            
            // 事件监听
            drawBtn.addEventListener('click', drawLottery);
            resetBtn.addEventListener('click', reset);
            bamboo.addEventListener('click', drawLottery);
            addDishBtn.addEventListener('click', addCustomDish);
            
            // 按Enter键添加菜品
            newDishInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addCustomDish();
                }
            });
            
            // 初始化
            combineAllDishes();
            initializeDishes();
            
            // 初始选中所有菜品
            dishes.forEach(dish => selectedDishes.add(dish.name));
        });
    </script>
</body>
</html>